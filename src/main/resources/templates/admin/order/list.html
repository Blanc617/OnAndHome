<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>온앤홈 관리자</title>
  <link rel="stylesheet" href="/css/import.css" />
  <script src="/js/oncommon.js"></script>
</head>
<body>
  <!-- 백그라운드 -->
  <div class="on-wrapper">
    <!-- 컨텐츠 영역 -->
    <div class="on-content">


      <!-- 사이드바 메뉴 -->
      <div th:replace="~{fragments/sidebar :: sidebar}"></div>


      <!-- <내부영역 -->
      <div class="on-main">
        <h2 class="mb-30">Order List</h2>
        <div class="flex mb-20 justify-end">
          <input type="text" class="input mr-4" placeholder="검색어를 입력하세요" />
          <button class="btn-ico btn-ico--srch"></button>
        </div>
        <div class="grid">
          <table>
            <colgroup>
              <col>
              <col width="25%">
              <col>
              <col>
              <col>
              <col>
              <col>
            </colgroup>
            <thead>
              <tr>
                <th scope="col">주문번호</th>
                <th scope="col">상품명</th>
                <th scope="col">정상가격</th>
                <th scope="col">주문가격</th>
                <th scope="col">구매자 아이디</th>
                <th scope="col">구매자명</th>
                <th scope="col">주문일자</th>
              </tr>
            </thead>
            <tbody>
              <tr th:if="${#lists.isEmpty(orders)}">
                <td colspan="7" class="center">주문 데이터가 없습니다.</td>
              </tr>
              <tr th:each="order : ${orders}">
                <td class="center">
                  <a th:href="@{/admin/order/detail(id=${order.orderId})}" th:text="${order.orderNumber}">주문번호</a>
                </td>
                <td class="center" th:text="${order.orderItems[0]?.productName}">상품명</td>
                <td class="center" th:text="${#numbers.formatInteger(order.orderItems[0]?.orderPrice, 1, 'COMMA')}">정상가격</td>
                <td class="center" th:text="${#numbers.formatInteger(order.totalPrice, 1, 'COMMA')}">주문가격</td>
                <td class="center" th:text="${order.userIdStr}">구매자 아이디</td>
                <td class="center" th:text="${order.username}">구매자명</td>
                <td class="center" th:text="${#temporals.format(order.createdAt, 'yyyy-MM-dd')}">주문일자</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      </div>
    </div>
  </div>
</body>
</html>