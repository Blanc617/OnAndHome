<!-- ğŸ“‚ ìœ„ì¹˜: templates/admin/board/qna/list.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Q&A ëª©ë¡ | ì˜¨ì•¤í™ˆ ê´€ë¦¬ì</title>
    <link rel="stylesheet" href="/css/import.css" />
    <script>
        document.addEventListener("DOMContentLoaded", async () => {
            const tableBody = document.querySelector("#qna-list-body");
            try {
                const res = await fetch("/api/admin/qna");
                const qnaList = await res.json();
                tableBody.innerHTML = "";

                if (qnaList.length === 0) {
                    tableBody.innerHTML = `<tr><td colspan="4" class="center">ë“±ë¡ëœ Q&Aê°€ ì—†ìŠµë‹ˆë‹¤.</td></tr>`;
                    return;
                }

                qnaList.forEach((qna, idx) => {
                    const row = `
                        <tr>
                            <td class="center">${idx + 1}</td>
                            <td class="center">
                                <a href="/admin/board/qna/${qna.id}">${qna.title}</a>
                            </td>
                            <td class="center">${qna.writer}</td>
                            <td class="center">${qna.createdAt.replace('T', ' ').slice(0, 16)}</td>
                        </tr>`;
                    tableBody.insertAdjacentHTML("beforeend", row);
                });
            } catch (err) {
                console.error("QnA ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨:", err);
            }
        });
    </script>
</head>
<body>
<div class="on-wrapper">
    <div class="on-content">
        <div th:replace="~{fragments/sidebar :: sidebar}"></div>
        <div class="on-main">
            <h2 class="mb-30">Q&A ê²Œì‹œíŒ</h2>

            <div class="grid">
                <table>
                    <thead>
                    <tr>
                        <th>ë²ˆí˜¸</th>
                        <th>ì œëª©</th>
                        <th>ì‘ì„±ì</th>
                        <th>ì‘ì„±ì¼ì</th>
                    </tr>
                    </thead>
                    <tbody id="qna-list-body">
                    <tr><td colspan="4" class="center">ë¡œë”© ì¤‘...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
</body>
</html>
