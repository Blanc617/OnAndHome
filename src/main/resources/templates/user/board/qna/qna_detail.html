<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>On&Home</title>
    <link rel="stylesheet" href="/css/import.css" />
    <script src="/js/oncommon.js"></script>
</head>
<body>
<!-- 백그라운드 -->
<div class="on-main-wrap">
    <!-- 헤더 -->
    <div th:replace="~{fragments/header :: header}"></div>


    <!-- ✅ Q&A 상세 본문 -->
    <div class="on-item02 mb-80 mt-80">
        <div class="on-item02-inner">
            <h2 class="sub-title line-under">Q&A 상세보기</h2>

            <div>
                <div class="on-comp-tbl-row">
                    <div class="on-comp-tbl-th col-2">번호</div>
                    <div class="on-comp-tbl-td col-10" th:text="${qna.id}">01</div>
                </div>

                <div class="on-comp-tbl-row">
                    <div class="on-comp-tbl-th col-2">작성일자</div>
                    <div class="on-comp-tbl-td col-10"
                         th:text="${#temporals.format(qna.createdAt, 'yyyy-MM-dd HH:mm')}">2025-01-01</div>
                </div>

                <div class="on-comp-tbl-row">
                    <div class="on-comp-tbl-th col-2">작성자</div>
                    <div class="on-comp-tbl-td col-10" th:text="${qna.writer}">정국</div>
                </div>

                <div class="on-comp-tbl-row">
                    <div class="on-comp-tbl-th col-2">제목</div>
                    <div class="on-comp-tbl-td col-10" th:text="${qna.title}">주문취소는 어떻게 하나요?</div>
                </div>

                <div class="on-comp-tbl-row high-100">
                    <div class="on-comp-tbl-th col-2">내용</div>
                    <div class="on-comp-tbl-td col-10 items-start" th:text="${qna.question}">
                        주문취소하고 싶은데 어디서 하는지 알려주세요
                    </div>
                </div>

                <!-- ✅ 관리자 답변 -->
                <div th:if="${!#lists.isEmpty(qna.replies)}">
                    <div class="on-comp-tbl-row high-100" th:each="reply : ${qna.replies}">
                        <div class="on-comp-tbl-th col-2">관리자 답변</div>
                        <div class="on-comp-tbl-td col-10">
                            <div th:text="${reply.content}">답변 내용이 표시됩니다.</div>

                            <!-- ✅ 수정 버튼 -->
                            <div class="flex mt-10">
                                <a th:href="@{/admin/board/qna/reply/edit/{replyId}(replyId=${reply.id})}"
                                   class="btn-sm btn--tertiary mr-2">수정</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ✅ 답변 없을 때 -->
                <div th:if="${#lists.isEmpty(qna.replies)}" class="on-comp-tbl-row">
                    <div class="on-comp-tbl-th col-2">관리자 답변</div>
                    <div class="on-comp-tbl-td col-10">아직 등록된 답변이 없습니다.</div>
                </div>
            </div>

            <!-- ✅ 하단 버튼 (수정·삭제·목록) -->
            <div class="flex justify-end mt-20">
                <!-- 수정 버튼 -->
                <a th:href="@{|/user/qna/edit/${qna.id}|}">
                    <button type="button" class="btn btn--secondary mr-4"
                            style="background-color:#6c757d; color:white; border:none;">
                        수정
                    </button>
                </a>

                <!-- 삭제 버튼 -->
                <form th:action="@{|/user/qna/delete/${qna.id}|}" method="post"
                      style="display:inline;"
                      onsubmit="return confirm('정말 삭제하시겠습니까?');">
                    <input type="hidden" name="writer" th:value="${qna.writer}">
                    <button type="submit" class="btn btn--danger mr-4"
                            style="background-color:#d9534f; color:white; border:none;">
                        삭제
                    </button>
                </form>

                <!-- 목록 버튼 -->
                <a th:href="@{/user/qna/list}">
                    <button type="button" class="btn btn--quarternary-outline">목록</button>
                </a>
            </div>

        </div>
    </div>

    <!-- ✅ 푸터 -->




    <footer class="footer-o">
        <div class="footer-wrapper">
            <div class="footer-l">
                <div>고객센터 <span class="footer-number">1544-7777</span></div>
                <div class="flex mt-20">
                    <div>
                        <ul class="footer-title">
                            <li>회사명</li>
                            <li>대표</li>
                            <li>팩스</li>
                            <li>이메일</li>
                            <li>주소</li>
                            <li>사업자등록번호</li>
                            <li>통신판매업신고</li>
                            <li>개인정보 책임자</li>
                        </ul>
                    </div>
                    <div class="ml-20">
                        <ul class="footer-title">
                            <li>(주)하이미디어</li>
                            <li>이상혁</li>
                            <li>02-1544-7778</li>
                            <li>faker@naver.com</li>
                            <li>서울 서초구 서초동 123-456</li>
                            <li>123-456789</li>
                            <li>카456-7894</li>
                            <li>최우제</li>
                        </ul>
                    </div>
                </div>
            </div>















            <div class="footer-r">
                <div>
                    <span class="footer-number">Review 게시판</span>
                    <div class="footer-review">
                        <ul class="footer-title">
                            <li>배송 빠르고 좋아요!</li>
                            <li>포장 꼼꼼해서 만족합니다</li>
                            <li>색감 실물이 더 예뻐요</li>
                            <li>가격대비 품질이 훌륭합니다</li>
                            <li>설치 기사님 친절했어요</li>
                            <li>두 번째 구매인데 역시 좋네요</li>
                            <li>응대가 빠르고 친절합니다</li>
                        </ul>
                    </div>

                </div>
                <div>
                    <span class="footer-number">Q&A 게시판</span>
                    <div class="footer-review">
                        <ul class="footer-title">
                            <li>배송 빠르고 좋아요!</li>
                            <li>포장 꼼꼼해서 만족합니다</li>
                            <li>색감 실물이 더 예뻐요</li>
                            <li>가격대비 품질이 훌륭합니다</li>
                            <li>설치 기사님 친절했어요</li>
                            <li>두 번째 구매인데 역시 좋네요</li>
                            <li>응대가 빠르고 친절합니다</li>
                        </ul>
                    </div>
                </div>
            </div>




        </div>

    </footer>
</div>
</body>
</html>
